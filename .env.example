# OpenClaw 後端 API 根網址（選填）
# 有設定時中控台會改打真實後端，否則使用 localStorage mock
# 本機後端：cd server && npm run dev（預設 PORT=3011）
# PORT=3011
# VITE_API_BASE_URL=http://localhost:3011
# 正式環境：換成你們部署的 API 網址
VITE_API_BASE_URL=
# 若後端啟用 OPENCLAW_API_KEY，可在前端加上對應 key（內網管理台用）
# VITE_OPENCLAW_API_KEY=

# Checkpoint 摘要模式（預設 off：只寫 JSON 快照，不呼叫 LLM）
# off    - 只做 JSON 快照，不產生摘要
# ollama - 使用本機 Ollama（qwen3:8b）產生摘要
# on     - 使用 OpenClaw 預設模型（Kimi/Gemini 等，依你的 OpenClaw 設定）產生摘要
CHECKPOINT_SUMMARY_MODE=off

# 系統還原中心（桌面備份/檢查點路徑；可不設，會用預設 Desktop/小蔡/🛠️ 系統工具）
# OPENCLAW_SYSTEM_TOOLS_ROOT=/Users/<you>/Desktop/小蔡/🛠️ 系統工具
# OPENCLAW_SYSTEM_TOOLS_BACKUP_ROOT=/Users/<you>/Desktop/小蔡/🛠️ 系統工具/備份
# OPENCLAW_SYSTEM_TOOLS_CHECKPOINT_ROOT=/Users/<you>/Desktop/小蔡/🛠️ 系統工具/檢查點

# Telegram 控制 bot（建議用 @ollama168bot；用於 /start 菜單按鈕直接跑自救腳本）
# TELEGRAM_CONTROL_BOT_TOKEN=123456:ABC-xxx
# 自救巡檢腳本會在此根目錄尋找 `scripts/openclaw-recover-no-response.sh`
# OPENCLAW_WORKSPACE_ROOT=/Users/<you>/openclaw任務面版設計
#
# 安全：若未設定 TELEGRAM_CHAT_ID，控制 bot 預設「鎖定」不執行任何操作（避免任何 chat 都能控制）。
# 可設定 TELEGRAM_ALLOW_ANY_CHAT=true 來解鎖（僅限本機 dev，不建議正式環境）。
# TELEGRAM_ALLOW_ANY_CHAT=false

# 後端 CORS：正式環境必設。逗號分隔多個前端來源，例如：
# ALLOWED_ORIGINS=https://your-app.vercel.app,https://your-domain.com
# ALLOWED_ORIGINS=

# Supabase（OpenClaw 資料持久化）
# 專案 URL：https://<project-ref>.supabase.co
# 新專案需先執行 docs/supabase-openclaw-migration.sql
SUPABASE_URL=https://<project-ref>.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Zeabur 平台 API（選填，用於部署／專案管理）
# ZEABUR_API_KEY=sk-xxx

# n8n（本機或 Zeabur）
# 本機：N8N_API_URL=http://localhost:5678；在 n8n 設定 → API 建立 API Key（JWT）
# Zeabur：N8N_API_URL=https://your-n8n.zeabur.app
N8N_API_URL=https://your-n8n.zeabur.app
N8N_API_KEY=your-n8n-api-key
# CLI 腳本 scripts/n8n-run.sh 使用 N8N_BASE_URL（預設 http://localhost:5678）與 N8N_API_KEY
# export N8N_BASE_URL=http://localhost:5678
# export N8N_API_KEY=eyJ...
# 選填：排程執行任務的 Webhook URL（n8n 工作流中 Webhook 節點的 URL）
# N8N_WEBHOOK_RUN_NEXT=https://your-n8n.zeabur.app/webhook/run-next
# 允許被 /api/n8n/trigger-webhook 轉發的主機白名單（逗號分隔）
# N8N_WEBHOOK_ALLOWLIST=your-n8n.zeabur.app

# Telegram（後端發送任務通知到 TG，沒設就不發、不報錯）
# 在 BotFather 建立 Bot 取得 token；用 getUpdates 或 @userinfobot 取得 chat_id
# TELEGRAM_BOT_TOKEN=123456:ABC-xxx
# TELEGRAM_CHAT_ID=123456789
# 選填：專用 /stop bot（建議建立第二個 bot，webhook 指向後端 /api/telegram/webhook，不與 OpenClaw 衝突）
# TELEGRAM_STOP_BOT_TOKEN=123456:ABC-xxx
# 選填：Telegram API 逾時（毫秒），預設 10000，避免連線延遲阻塞
# TELEGRAM_FETCH_TIMEOUT_MS=10000

# === Auth：擋外網存取（詳見 docs/AUTH-SETUP.md）===
# 後端 API Key（正式環境務必改掉預設值，勿提交 .env 到版控）
OPENCLAW_API_KEY=replace-with-strong-key
# 進階：分層金鑰（若有設定，會與 OPENCLAW_API_KEY 共同生效）
# OPENCLAW_READ_KEY=replace-with-read-key   # 僅讀，給唯讀 Dashboard
# OPENCLAW_WRITE_KEY=replace-with-write-key # 讀+寫，給完整 Dashboard
# OPENCLAW_ADMIN_KEY=replace-with-admin-key # 讀+寫+admin（重啟 gateway、webhook 等）
# 寫入需 key（預設 true）。設為 false 可關閉（不建議正式環境）
OPENCLAW_ENFORCE_WRITE_AUTH=true
# 讀取也需 key。設為 true 可擋未帶 key 的 GET（Dashboard 對外時建議開啟）
# OPENCLAW_ENFORCE_READ_AUTH=true

# Dashboard（靜態 Web UI）Basic Auth：當你把 3011 的 Web UI 暴露到網路上時建議啟用
# - 若未設定，預設不啟用（本機開發更方便）
# - 若有設定，瀏覽器打開 http://<host>:3011/ 會要求帳密
# OPENCLAW_DASHBOARD_BASIC_USER=admin
# OPENCLAW_DASHBOARD_BASIC_PASS=replace-with-strong-password

# 若部署在反向代理（Caddy/Nginx/Cloudflare）後方，建議設為 true
# 讓 req.ip / rate limit 正確取到真實 client IP
# OPENCLAW_TRUST_PROXY=true

# MCP（Model Context Protocol）整合建議
# - MCP 通常跑在 OpenClaw Gateway / 你的 agent host 端；此 repo 的 taskboard server 只負責 API + gate。
# - 若你要讓 agent 透過「HTTP 工具」呼叫內部服務，務必做 allowlist + 超時 + 最小權限。
# 詳見：docs/MCP-PLAYBOOK.md
