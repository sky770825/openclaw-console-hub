# 網路與官方文檔整理：大家常遇問題集中在哪、哪些技能必學

本文根據**網路搜尋結果**與 **OpenClaw 官方文檔**（docs.clawd.bot 的 Troubleshooting、FAQ）整理：  
① 大家經常遇到的問題**主要集中在哪些方面**；② **必學／建議先學的技能與知識**。  
可與專案內的 [大家經常遇到的OpenClaw問題](./大家經常遇到的OpenClaw問題.md) 對照使用。

---

## 一、大家經常遇到的問題 — 主要集中在哪些方面

綜合社群、故障排除文檔與 GitHub 討論，常見問題可歸成以下幾類（依出現頻率與文檔篇幅整理）。

### 1. Gateway／連線與認證（最集中）

- **Gateway 無法啟動**  
  原因常為：Node.js 版本過舊（需 ≥22）、**port 18789 被佔用**、設定檔錯誤、依賴缺失。  
  官方建議先跑：`openclaw status` → `openclaw gateway status` → `openclaw doctor`。

- **bind 與 auth**  
  - `refusing to bind gateway ... without auth`：非 loopback（如 `lan`、`tailnet`）時**必須**設 `gateway.auth.token` 或 password。  
  - `gateway bind=lan` 或 `tailnet` 後「沒有在 listen」或 UI 顯示 unauthorized，多半是 auth 未設或與客戶端不一致。

- **Control UI / Dashboard 連不上**  
  - `device identity required`：非 secure context 或未完成 device auth。  
  - `unauthorized`、一直重連：**token／password 與 Gateway 設定不一致**。  
  - 官方：檢查 URL、auth mode、本機 vs 遠端時 token 是否正確。

- **升級後突然壞掉**  
  文檔特別提到：多數是 **config 變更** 或 **更嚴格的預設值**（auth、bind、pairing／device identity）。  
  需檢查：`gateway.mode`、`gateway.remote.url`、`gateway.auth`、以及 pairing／device 狀態。

**對應官方章節**：  
[Gateway Troubleshooting](https://docs.clawd.bot/gateway/troubleshooting)（Command ladder、Gateway service not running、Dashboard control UI connectivity）、FAQ「Config basics」「Gateway: ports, already running, and remote mode」。

---

### 2. 頻道（Channels）與 Bot 沒回覆

- **頻道連不上**  
  認證憑證錯誤、環境變數未設、網路問題；WhatsApp 需完成配對。

- **Bot 沒回覆（No replies）**  
  官方排查順序：  
  - `Runtime: running` 且 `RPC probe: ok`；  
  - 發送者是否在 **pairing 核准名單**；  
  - **群組** 是否要 @mention 才回（`requireMention`、`mentionPatterns`）；  
  - channel/group allowlist 是否擋掉。  
  日誌常見：`drop guild message (mention required`、`pairing request`、`blocked`/`allowlist`。

- **頻道顯示 connected 但訊息不來**  
  多與 **policy、權限、配對** 有關：DM policy、群組 allowlist、mention 要求、channel API 權限／scope。

**對應**：  
[Troubleshooting - No replies](https://docs.clawd.bot/gateway/troubleshooting#no-replies)、[Channel connected messages not flowing](https://docs.clawd.bot/gateway/troubleshooting#channel-connected-messages-not-flowing)、FAQ「Sessions and multiple chats」「Why doesn’t OpenClaw reply in a group」。

---

### 3. 瀏覽器工具（Browser）

- **Chrome 擴充遺失／錯誤**  
  例如 "bundled chrome extension is missing"。  
  解法常是：`npm install -g openclaw@latest`（或 pnpm）並**重啟 Gateway**。

- **Browser 工具失敗**  
  官方列：  
  - Chrome/Chromium 未裝或路徑錯；  
  - browser 未啟用；  
  - **Chrome extension relay is running, but no tab is connected** → 需在要控制的**分頁**點擴充圖示掛上。  
  - `Failed to start Chrome CDP on port`、`browser.executablePath not found`、attach-only 不可達等。

**對應**：  
[Troubleshooting - Browser tool fails](https://docs.clawd.bot/gateway/troubleshooting#browser-tool-fails)、[Browser troubleshooting (Linux)](https://docs.clawd.bot/tools/browser-linux-troubleshooting)、[Chrome extension](https://docs.clawd.bot/tools/chrome-extension)。

---

### 4. 模型與認證

- **模型認證**  
  API key 無效、速率限制（如 Anthropic 429）、profile 設定錯誤。  
  FAQ 有大量「No credentials found」「failover」「model not allowed」等說明。

- **Context 過長／被截斷**  
  「context too large」「context truncated mid-task」：與 **compaction**、**reserveTokens**、session 長度有關。  
  FAQ：Why did context get truncated / How do I prevent it、context too large 如何 reset 或 compact。

---

### 5. Cron / Heartbeat / 排程

- **Cron 或提醒不觸發**  
  官方：先看 `openclaw cron status`、`openclaw cron list`、job 執行紀錄；  
  常見：cron disabled、timer tick failed、heartbeat 因 quiet-hours / requests-in-flight 等被 skip。

**對應**：  
[Troubleshooting - Cron and heartbeat delivery](https://docs.clawd.bot/gateway/troubleshooting#cron-and-heartbeat-delivery)、FAQ「Cron or reminders do not fire」。

---

### 6. Node 配對與遠端

- **Node 已配對但 tool 失敗**  
  需查：node 是否 online、能力是否正確、**OS 權限**（相機／麥克風／定位／螢幕）、exec approval／allowlist。  
  日誌常見：`NODE_BACKGROUND_UNAVAILABLE`、`*_PERMISSION_REQUIRED`、`SYSTEM_RUN_DENIED: approval required`。

- **Tailscale 連上但沒回覆**  
  FAQ 有專題說明。

**對應**：  
[Troubleshooting - Node paired tool fails](https://docs.clawd.bot/gateway/troubleshooting#node-paired-tool-fails)、Nodes / exec-approvals 文檔。

---

### 7. 安裝與環境

- **`openclaw` 指令找不到**  
  PATH 未含安裝目錄；Windows 上常伴隨「git not found」或「openclaw not recognized」。  
  官方：見 [Node 安裝與 PATH](https://docs.clawd.bot/install/node#troubleshooting)、Installer troubleshooting。

- **安裝／onboarding 卡住**  
  例如卡在 "wake up my friend"；FAQ 有「Installer stuck」「onboarding will not hatch」的建議。

---

小結：**最常被提到的集中在**  
① **Gateway 啟動與 bind/auth**、② **Control UI 連線與 token／device identity**、③ **Bot 沒回覆（pairing、mention、allowlist）**、④ **瀏覽器工具與 Chrome 擴充／分頁掛載**、⑤ **模型認證與 context 過長**。  
其餘（cron、node、安裝）也常見，但篇幅與步驟較集中在上述五塊。

---

## 二、必學／建議先學的技能與知識

依官方入門流程、FAQ 與 Troubleshooting 的依賴關係整理。

### 必學（沒這些很難穩定跑起來）

1. **環境與版本**  
   - **Node.js ≥22**（官方明確要求；部分問題在 Node 22 會出現，例如 Telegram API timeout，升級後才解）。  
   - 能從終端執行 `openclaw`（PATH 正確）。

2. **設定檔位置與格式**  
   - 知道 **config 在哪**（例如 `~/.openclaw/openclaw.json`）與**格式**（JSON/JSON5）。  
   - 改完 config 後**要不要重啟**（FAQ：Do I have to restart after changing config）。

3. **Gateway 基本概念**  
   - **Gateway 是什麼**：本地/遠端、port（預設 18789）、誰在連。  
   - **bind**：`loopback` / `lan` / `tailnet` 等意義；**非 loopback 一定要設 auth**。  
   - **auth**：`gateway.auth.token` 或 password；本機 vs 遠端、Control UI 要帶同一 token。

4. **診斷指令順序（Command ladder）**  
   官方建議**依序**跑：  
   - `openclaw status`  
   - `openclaw gateway status`（看 Runtime、RPC probe）  
   - `openclaw logs --follow`  
   - `openclaw doctor`  
   - `openclaw channels status --probe`  
   能讀懂「Runtime: running」「RPC probe: ok」、channel connected/ready 代表什麼。

5. **配對與權限（Pairing / allowlist）**  
   - **DM**：誰可以跟 bot 講話（pairing、allowlist、open）。  
   - **群組**：要不要 @mention、allowlist。  
   - 會用 `openclaw pairing list <channel>`、知道「沒回覆」常是 pairing 未核准或 mention 要求。

6. **模型與認證**  
   - 至少一個 **模型能通**：API key 或 OAuth 設對、profile 正確。  
   - 知道預設模型在哪設（`agents.defaults.model.primary`）。  
   - 聽過 **failover** 與「All models failed」時該查什麼（FAQ 有 checklist）。

---

### 強烈建議學（會大幅減少卡關）

7. **Control UI / Dashboard**  
   - 如何打開、**本機 vs 遠端時 token 怎麼填**。  
   - 連不上時想「device identity」與「token mismatch」（見 Troubleshooting Dashboard 一節）。

8. **Channels 基本設定**  
   - 各通道（Telegram、Discord、WhatsApp 等）需要什麼 **token／認證**。  
   - 通道專屬的 **troubleshooting**（例如 Telegram/Discord/WhatsApp 文檔）。

9. **瀏覽器工具**  
   - 使用 **Chrome 擴充**時：要在**該分頁**點圖示掛上（no tab is connected 的解法）。  
   - 知道 browser 可設 profile（如 `openclaw` / `chrome`）、何時需要 start/attach。

10. **重啟與服務**  
    - `openclaw gateway restart` vs `openclaw gateway` 的差異（FAQ 有 ELI5）。  
    - 如何**完全停掉再啟動**；若用 systemd/launchd，哪裡看服務狀態。

11. **日誌在哪、怎麼看**  
    - 日誌位置、`openclaw logs --follow`。  
    - 常見關鍵字：`pairing`、`blocked`、`mention required`、`unauthorized`、`device identity`、`refusing to bind`、`timeout`。

12. **升級後注意**  
    - 升級後壞掉多數是 **config／auth／bind／pairing**；知道去查 Auth and URL override、Bind and auth guardrails、Pairing and device identity 三點（Troubleshooting 有寫）。

---

### 進階／依需求學

13. **Skills**  
    - 技能從哪載入（捆綁、`~/.openclaw/skills`、workspace skills）、**ClawdHub** 安裝與更新。  
    - 如何自訂技能、不弄髒 repo（FAQ）。

14. **Memory**  
    - 記憶怎麼存（MEMORY.md、memory/*.md）、語意搜尋、QMD（若用）。

15. **Cron / Heartbeat**  
    - 排程與心跳不觸發時怎麼查（cron status、heartbeat last、skip reasons）。

16. **遠端與多機**  
    - **Remote mode**（client 連遠端 Gateway）、Tailscale、多 Gateway、Node 配對與權限。

17. **Session 與 context**  
    - 何時 compaction、為何 context 被截斷、如何開新對話、reserveTokens 等（可搭配 FAQ「context too large」）。

---

## 三、對照你專案內的文件

- **常見問題總覽（本專案）**：  
  [大家經常遇到的OpenClaw問題](./大家經常遇到的OpenClaw問題.md)  
  → 依主題對應到**本專案**的修復紀錄與排查說明。

- **官方快速排查**：  
  [Help - Troubleshooting](https://docs.clawd.bot/help/troubleshooting)（fast triage）  
  [Gateway Troubleshooting](https://docs.clawd.bot/gateway/troubleshooting)（deep runbook）

- **官方 FAQ**：  
  [FAQ](https://docs.clawd.bot/help/faq)  
  → 安裝、設定、模型、通道、技能、記憶、Gateway、日誌等都有對應條目。

---

*本文件整理自 2025–2026 年網路搜尋與 OpenClaw 官方文檔；若官方有更新，請以 docs.clawd.bot 為準。*
